@model Challenge.Models.ProblemUserModel
@{
    ViewBag.Title = "AddSolutionToProblem";
}

<h2>Add Solution To Problem</h2>

@using (Html.BeginForm("AddSolutionToProblem", "Problems"))
{
<div class="form-group">
    @Html.TextBoxFor(model => model.Solution)
    @Html.HiddenFor(model => model.Problem)
    @Html.HiddenFor(model => model.ProblemFK)
    @Html.HiddenFor(model => model.User)
    @Html.HiddenFor(model => model.UserFK)
    <p><input type="file" accept="image/*" name="image" id="file" onchange="loadFile(event)" style="display: none;"></p>
    <p><label for="file" style="cursor: pointer;">Upload Image</label></p>
    <p><img id="output" width="200" /></p>
    <button type="submit" class="btn btn-primary">Submit</button>
</div>
}

@section Scripts {
    <script>
        $(document).on("ready", function () {
            $("#Solution").css("display", "none");
        });
        var loadFile = function(event) {
            var image = document.getElementById('output');
            image.src = URL.createObjectURL(event.target.files[0]);
            console.log(document.getElementById('Solution'));
            document.getElementById('Solution').value = image.src;
            console.log(image.src);
        };
    </script>
}

